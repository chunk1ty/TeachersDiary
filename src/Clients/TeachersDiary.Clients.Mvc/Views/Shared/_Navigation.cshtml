
@using System.Security.Claims
@using Microsoft.AspNet.Identity

<nav class="navbar-default navbar-static-side" role="navigation">
    <div class="sidebar-collapse">
        <ul class="nav" id="side-menu">
            <li class="nav-header">
                <div class="dropdown profile-element">
                    <span>
                        <img alt="image" class="img-circle" src="~/Images/profile_small.jpg" />
                    </span>
                    <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                        <span class="clear">
                            <span class="block m-t-xs">
                                <strong class="font-bold">@User.Identity.GetUserName()</strong>
                            </span> 
                            <span class="text-muted text-xs block">
                                Учител
                                <b class="caret"></b>
                            </span>
                        </span>
                    </a>

                    <ul class="dropdown-menu animated fadeInRight m-t-xs">
                        <li>
                            <a href="#">Профил</a>
                        </li>

                        <li class="divider"></li>
                        
                        <li>
                            <a href="javascript:document.getElementById('log-out-input').click()">
                                @GlobalResources.LogOffLabel
                            </a>
                        </li>
                    </ul>
                    @using (Html.BeginForm<AccountController>(x => x.LogOff(), FormMethod.Post, null, new { id = "logoutForm"}))
                    {
                        @Html.AntiForgeryToken()

                        <input id="log-out-input" type="hidden" />
                    }
                </div>

            </li>
            <li class="@Html.IsSelected("dashboard")">
                <a href="@Url.Action("Index", "Dashboard")">
                    <i class="fa fa-th-large"></i> 
                    <span class="nav-label" data-i18n="nav.dashboard">Dashboards</span> 
                    <span class="fa arrow"></span>
                </a>
            </li>

            <li class="@Html.IsSelected("class")">
                <a href="@(Url.Action<ClassController>(x => x.Index()))">
                    <i class="fa fa-pie-chart"></i>
                    <span class="nav-label" data-i18n="nav.metrics">
                        Класове
                    </span>
                    <span class="fa arrow"></span>
                </a>
                <ul class="nav nav-second-level collapse @Html.IsSelected(controller: "class", cssClass: "in")">
                    <li class="@Html.IsSelected(action: "class")">
                        <a href="@Url.Action("Index", "Class")">Преглед</a>
                    </li>
                    <li class="@Html.IsSelected(action: "create")">
                        <a href="@Url.Action("Create", "Class")">Създай клас</a>
                    </li>
                </ul>
            </li>

        </ul>
    </div>
</nav>
